<Window x:Class="HealthBarDetector.AreaSelectorWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		WindowStyle="None"
		AllowsTransparency="True"
		Background="#88000000"
		Topmost="True"
		WindowState="Maximized"
		ShowInTaskbar="False"
		KeyDown="Window_KeyDown" Cursor="">
	<Window.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/ButtonStyles.xaml"/>
			</ResourceDictionary.MergedDictionaries>

			<DropShadowEffect x:Key="DropShadowEffect" Color="#121212" BlurRadius="8" ShadowDepth="2" Opacity="0.4"/>

		</ResourceDictionary>
	</Window.Resources>

	<Canvas Name="canvas">
		<!-- 选择区域矩形 -->
		<Rectangle x:Name="selectionRect"
			Stroke="Red"
			StrokeThickness="1"
			Fill="Transparent"
			Visibility="Collapsed"/>
		
		<!-- 调整手柄 -->
		<Rectangle x:Name="resizeHandle"
			Fill="#50FF0000"
			StrokeThickness="1"
			Width="10" Height="10"
			Cursor="SizeNWSE"
			Visibility="Collapsed"/>
		
		<!-- 按钮面板 -->
		<Border x:Name="buttonPanel"
			CornerRadius="10"
			Background="#FFF7FAFC"
			Padding="5,5"
			Effect="{StaticResource DropShadowEffect}"
			Visibility="Collapsed">

			<StackPanel Orientation="Horizontal"
				HorizontalAlignment="Center"
				VerticalAlignment="Center"
				Background="Transparent">

				<Button Style="{StaticResource FlatButtonStyle}"
					Click="ConfirmButton_Click"
					ToolTip="确定"
					Margin="0,0,5,0">
					<Image Source="/HealthBarDetector;component/Assets/check.png" Width="28" Height="28"/>
				</Button>

				<Button Style="{StaticResource FlatButtonStyle}"
					Click="CancelButton_Click"
					ToolTip="取消">
					<Image Source="/HealthBarDetector;component/Assets/close.png" Width="28" Height="28"/>
				</Button>
			</StackPanel>
		</Border>
		
	</Canvas>
</Window>
